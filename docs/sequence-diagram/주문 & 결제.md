```mermaid
sequenceDiagram
participant Client
participant Order
participant Product
participant UserCoupon
participant OrderProduct
participant Point
participant PointHistory

Client->> Order: 주문&결제 요청(userID,쿠폰ID, 상품ID, 구매 수량)
Order ->> Product: 상품 조회 요청
alt 상품이 없을 때
Product -->> Order: 상품 없음 반환
Order -->> Client: 상품 없음 예외 응답
else 수량이 부족할 때
Product -->> Order: 수량 부족 반환
Order -->> Client: 수량 부족 예외 응답
else 상품이 있을 때
Product ->> Order: 상품 정보 전달
end

Order ->> UserCoupon: 사용자 쿠폰 조회(쿠폰ID)
alt 쿠폰 사용 불가능
UserCoupon -->> Order: 쿠폰 사용 불가능 반환
Order -->> Client: 쿠폰 사용 불가능 예외 응답
else 쿠폰 사용 가능
UserCoupon -->> Order: 쿠폰 정보 반환
end

Order ->> Order: 상품가격에 쿠폰 반영 후 주문 생성
Order ->> OrderProduct: 주문상품 생성 요청
OrderProduct -->> Order: 주문상품 생성 완료 반환

Order ->> Point: 결제 요청->사용자 잔고 조회(userId)
alt 사용자 잔고 < 주문 가격
Point -->> Order: 잔고 부족 반환
Order -->> Client: 잔고 부족 예외 응답
else 사용자 잔고 > 주문 가격
Point ->> Order: 잔고 정보 반환
Order ->> Point: 잔고 차감 요청
Point ->> PointHistory: 잔고 이력 요청
PointHistory -->> Point: 이력 업데이트 완료 반환
Point -->> Order: 잔고 업데이트 완료 반환
end

Order ->> UserCoupon: 쿠폰 사용 상태 변경 요청
UserCoupon -->> Order: 쿠폰 상태 성공 반환
Order ->> Product: 상품 재고 업데이트 요청(상품ID, 수량)
Product -->> Order: 업데이트 성공 반환
Order -->> Client: 결제 완료 응답
